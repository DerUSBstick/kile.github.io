<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Killua: Commands</title>
    <link rel="shortcut icon" type="image/png"
        href="https://cdn.discordapp.com/avatars/756206646396452975/30c2da6b0a777658021cbac239fa5e66.png?size=1024" />
    <link rel="apple-touch-icon"
        href="https://cdn.discordapp.com/avatars/756206646396452975/30c2da6b0a777658021cbac239fa5e66.png?size=1024">
    <meta name="description" content="Commands || Killua">
    <meta name="keywords"
        content="Killua, Kile, Alkuri, KileAlkuri, Killua.dev, discord, bot, SFW, hxh, hunter x hunter">
    <meta name="author" content="N789EX, CirclR, and Kile Alkuri">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#33344C">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        crossorigin='anonymous'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" crossorigin='anonymous'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"
        crossorigin='anonymous'></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" crossorigin='anonymous'></script>
    <!-- Stylesheet and code for the rest of the page-->
    <!-- <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css"> -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="navbar navbar-expand-md bg-dark navbar-dark" id='navbar'>
        <!-- Brand -->
        <a class="navbar-brand" href="./index.html"><img
                src="https://cdn.discordapp.com/avatars/756206646396452975/30c2da6b0a777658021cbac239fa5e66.png?size=1024"
                alt="logo" style="width:40px;"></a>

        <!-- Toggler/collapsibe Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar links -->
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link"
                        href="https://discord.com/oauth2/authorize?client_id=756206646396452975&scope=bot&permissions=1342531648">Add
                        To Server</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://discord.gg/FdErZCd">Discord Server</a>
                </li>


                <li class="nav-item">
                    <a class="nav-link" href="https://www.patreon.com/KileAlkuri">Patreon</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./commands.html">Commands</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./contributors.html">The Team</a>
                </li>
            </ul>
        </div>
    </nav>


    <div id='img1n' style='display:table; width:100%;'>
        <div style='display:table-cell; width:100%;'><br><br>
            <script>
                if (screen.availHeight >= 750) {
                    document.write('<br>');
                }
                if (screen.availHeight >= 1500) {
                    document.write('<br><br>')
                }
            </script>
            <h1 id="heading">Commands</h1><br><br>
            <script>
                if (screen.availHeight >= 750) {
                    document.write('<br>');
                }
                if (screen.availHeight >= 1500) {
                    document.write('<br><br>')
                }
            </script>
        </div>
    </div><br>
    <script>
        let sh = screen.availHeight;
        for (var i = 1; i <= 2; i++) {
            if (sh / i >= 750) {
                document.write('<br>');
            }
        }
    </script>
     <div id="data-container">
        <!-- Data will be added here -->
    </div>

    <script>
        function createCollapsibleGroup(groupName, groupDescription, commands) {
            const groupDiv = document.createElement('div');
            groupDiv.classList.add('cmd-group');
            groupDiv.innerHTML = `
                <h2 class="cmd-group-title">${groupName}</h2>
                <p class="cmd-group-description">${groupDescription}</p>
            `;

            // Add event listener for the cmd-group-title element of that group
            groupDiv.querySelector('.cmd-group-title').addEventListener('click', function() {
                groupDiv.querySelector('.cmd-group-description').style.display = groupDiv.querySelector('.cmd-group-description').style.display === 'none' ? 'flex' : 'none';
                
                groupDiv.querySelectorAll('.cmd-title').forEach(title => {
                    title.style.display = title.style.display === 'none' ? 'flex' : 'none';
                });
                // Do the same thing with cmd descriptions
                groupDiv.querySelectorAll('.cmd-description').forEach(description => {
                    if (description.style.display === 'flex') {
                        description.style.display = 'none';
                    }
                });

                groupDiv.querySelectorAll('.cmd ').forEach(cmd => {
                    cmd.style.display = cmd.style.display === 'none' ? 'block' : 'none';
                });
            });

            for (const command of commands) {
                const commandDiv = document.createElement('div');
                commandDiv.classList.add('cmd');
                commandDiv.innerHTML = `
                    <h3 class="cmd-title${command.premium_user ? " premium-user\" tip=\"Only premium users can use this command" : ""}${command.premium_guild ? "premium-guild\" tip=\"This command can only be used on premium guilds" : ""}">${command.name}</h3>
                    <div class="cmd-description">${command.description}<br><br>
                    <div class="inline">Message usage: <span class="discord-formatting">${command.message_usage.replace("<", "&lt;").replace(">", "&gt;")}</span></div><br>
                    <div class="inline">Slash usage: <span class="discord-formatting">/${command.slash_usage.replace("<", "&lt;").replace(">", "&gt;")}</span></div><br>
                    <div class="inline">Aliases: ${command.aliases.length > 0 ? ('<span class="discord-formatting">' + command.aliases.join(', ') + '</span>') : 'None'}</div>
                    ${command.cooldown ? '<br>Cooldown: ' + command.cooldown + ' second' + (command.cooldown == 1 ? '' : 's') : ''}
                    </div>
                `;

                if (command.cooldown) {
                    // Replace last line with this: "Cooldown: ${command.cooldown} </div>"
                    
                }

                // Add event listener for the h3 element of that command
                commandDiv.querySelector('.cmd-title').addEventListener('click', function() {
                    commandDiv.querySelector('.cmd-description').style.display = commandDiv.querySelector('.cmd-description').style.display === 'none' ? 'flex' : 'none';
                });

                groupDiv.appendChild(commandDiv);
            }

            return groupDiv;
        }

        const dataContainer = document.getElementById('data-container');

        fetch('https://api.killua.dev/commands') // Replace with your API endpoint
            .then(response => response.json())
            .then(data => {
                for (const groupName in data) {
                    const group = data[groupName];
                    const groupDiv = createCollapsibleGroup(group.name, group.description, group.commands);
                    dataContainer.appendChild(groupDiv);
                }
            })
            .catch(error => console.error('API request error:', error));
    </script><br><br><br><br><br><br>
    <div id='pdcl'>
        <div id="dcl" style="position:absolute; right:50px; bottom:10px;"><a href='./disclaimers.html' id='dcl'>Disclaimer</a>
        </div>
    </div>
    <h1></h1>

</html>
